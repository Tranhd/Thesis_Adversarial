## Adversarial example generation
Functions to generate adversarials from JSMA, FGSM or deepfool method. The JSMA-adversarials is generated from scratch. 

## User Guide 
Note that a copy of the network need to be placed into the directory, in this case cnn_copy.py
 
#### Create graphs and networks
The algorithm need a tensorflow session and a copy of it to evaluate if the adversarials are powerful enough.
```python
tf.reset_default_graph()
sess = tf.Session()
net_copy = MnistCNN(sess, save_dir='../Thesis_CNN_mnist/Mnist_save/')
tf.reset_default_graph()
sess = tf.Session()
```
#### Create Adversarials
The adversarials is generated by providing the make_adversarials function with a tensorflow session, a copy of the target network, data, the data labels, an epsilon (parameter), max epochs, batch size, a random seed, a optional filename for saving the adversarials, the type, and a boolean indicating if the adversarial examples returned should fool the network.
```python
r_seed = 1337
filename_deepfool = 'dp_'+str(r_seed)
filename_jsma = 'jsma_'+str(r_seed)
filename_fgsm = 'fgsm_'+str(r_seed)


adv_deepfool = make_adversarials(sess, net_copy, x_train, y_train, 
    eps=0.2, epochs=3, batch_size=2, seed=s, 
    filename=filename_deepfool, type='Deepfool', wrong=True)

adv_jsma = make_adversarials(sess, net_copy, x_train, y_train, 
    eps=0.8, epochs=100, batch_size=2, seed=s, 
    filename=filename_jsma, type='JSMA', wrong=False)

adv_fgsm = make_adversarials(sess, net_copy, x_train, y_train, 
    eps=0.01, epochs=10, batch_size=2, seed=s, 
    filename=filename_jsma, type='FGSM', wrong=True)
```

#### Loading file
To load the files with existing adversarials
```python
adv_deepfool = fetch_data(filename_deepfool)
adv_jsma = fetch_data(filename_jsma)
adv_fgsm = fetch_data(filename_fgsm)
```

## Acknowledgments
The code in 'fgm.py', 'jsma.py' and 'deepfool.py'  and parts of the general code was provided by the repo https://github.com/gongzhitaao/tensorflow-adversarial

**Reference**:
Zhitao Gong. (2018, January 18). Adversarial Algorithms in TensorFlow (Version v0.2.0). Zenodo. 
